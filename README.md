# P42 ETL Pipeline for Transactional Data

This project implements an ETL pipeline that fetches transactional data from an API, processes and transforms the data, and loads it into a MySQL database for analysis.

## Features
- Fetch transactional data via API
- Data cleaning and transformation using Python
- Categorization of transactions based on amount and product type
- MySQL database integration with parallel data insertion
- Querying insights from the database

## Requirements
- Python 3.x
- MySQL Server
- Python Libraries: requests, json, pandas, mysql-connector-python

## Installation windows cmd
1. run pip install requests pandas mysql-connector-python  
2. mysql -u root -p etl_db < etl_db_dump.sql
3. Replace root with your MySQL username if different.
4. Enter your MySQL password when prompted.
5. Ensure the following files are in the same directory:
  Solution.py (the main script)
  etl_db_dump.sql (the database dump file)
  Open Windows CMD in the directory containing the files.
6. Run the pipeline script:
    python Solution.py
    After running the pipeline, the script will:
    Load the transformed data into the etl_db database.
    Log insights directly to the terminal and save them in the etl_report.txt file.
   
    To view insights in MySQL manually you may follow these instructions:


    Ensure you are in the correct directory where the etl_db_dump.sql file is located. Open CMD, 
    log in to MySQL using mysql -u root -p (replace root with your MySQL username if different), and enter your password when prompted. 
    Switch to the etl_db database using USE etl_db;, then run the following queries to extract insights:

       
    Total transactions per product category:
    
    SELECT product_category, COUNT(*) AS total_transactions
    FROM transactions
    GROUP BY product_category;
    
    Top 5 accounts by total transaction value:
    
    SELECT customer_id, SUM(transaction_amount) AS total_value
    FROM transactions
    GROUP BY customer_id
    ORDER BY total_value DESC
    LIMIT 5;
    
    Monthly spend trends over the past year:
    SELECT DATE_FORMAT(transaction_date, '%Y-%m') AS month, SUM(transaction_amount) AS total_spend
    FROM transactions
    WHERE transaction_date >= DATE_SUB(NOW(), INTERVAL 1 YEAR)
    GROUP BY month
    ORDER BY month;



   After running the queries, exit MySQL by typing exit.



   Deliverables:
      Files included in the repository:
      Solution.py: The Python script for the ETL pipeline.
      etl_db_dump.sql: The MySQL database dump with the transformed data.
      etl_report.txt: A report generated by the pipeline showing key insights.
      README.md: Instructions for running the pipeline.


   











